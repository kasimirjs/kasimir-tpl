<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="application/javascript" src="/dist/kasimir-tpl.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<style type="text/css">
    .box {
        border: 3px solid red;
        padding: 5px;
        margin: 5px;
    }

    .wurst {
        background-color: blue;
    }

</style>

<button id="btn1" onclick="for(let i=0; i<5; i++)context.rows.push(['a', 'b' +i]);elem.render(context)">+</button>
<button onclick="context.rows.pop(); elem.render(context)">-</button>

<kt-tpl id="rowTpl">
    <table class="table table-striped">
        <thead>
            <tr>
                <template is="kt-for" forSelect="headers">
                    <td>ColB <kt-val stmt="context.self"></kt-val></td>
                </template>
            </tr>
        </thead>
        <tbody>
            <template is="kt-for" forSelect="rows" forEval="context.data = context.rows[idx];context.i1 = idx;">
                <tr >
                    <template is="kt-for" forSelect="data">
                        <td>ColB <kt-val stmt="context.i1"></kt-val></td>
                    </template>
                </tr>
                <tr >
                    <td colspan="">Row <template is="kt-if" stmt="context.i1 % 2 == 0">Even<b>wurst</b></template></td>
                </tr>
            </template>
        </tbody>
    </table>
</kt-tpl>
<script>
    let context = {
        headers: ["col1", "col2"],
        rows: []
    };
    let elem = kt_tpl("rowTpl");
    /* @var {HTMLTemplateElement} elem */
    elem.render(context);
</script>



</body>
</html>
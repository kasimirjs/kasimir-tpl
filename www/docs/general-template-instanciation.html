<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kasimir Templates :: Template instanciation</title>
    <link rel="stylesheet" href="/dist/docs.css">
    <link rel="stylesheet" href="/dist/bootstrap.css">
</head>
<body class="container">

    <h2>Template instanciation</h2>
    <h3>Manual instanciation</h3>
    <div id="ex01" class="example">
        <template is="ka-tpl" id="tpl01">
            <div *for="let i of list" >Hello {{ i }}: {{ name }}</div>
        </template>
        <!-- sibling with attribute 'ka-loader' this is removed on first render -->
        <div ka-loader>Loading...</div>

        <button class="btn btn-primary" onclick="ka_tpl('tpl01').$scope = {name: 'Dude', list:['a', 'b']}">$scope=</button>
        <button class="btn btn-primary" onclick="ka_tpl('tpl01').render({name: 'Dude', list:['a', 'b']})">render()</button>
        <input onkeyup="ka_tpl('tpl01').$scope.name = this.value">
    </div>
    <pre class="code"><ka-val stmt="document.getElementById('ex01').innerHTML" unindent auto afterrender="w3codecolor(this)"></ka-val></pre>



    <h3>Automatic instanciation</h3>
    <div id="ex02" class="example">
        <template is="ka-tpl" auto debug>
            abc
            <div>
            This is the {{ 'muh' }} template <ka-val stmt="'hello'"></ka-val> text
            </div>
        </template>
    </div>
    <pre class="code"><ka-val stmt="document.getElementById('ex02').innerHTML" unindent auto afterrender="w3codecolor(this)"></ka-val></pre>

    <h3>Autonomous templates</h3>
    <div id="ex03" class="example">
        <template is="ka-tpl" auto>
            <script>
                // this
                ((self) => {
                    self.$scope = {"time": "init value"};

                    window.setInterval(() => {
                        self.$scope.time = (new Date).toLocaleString();
                    } , 1000);

                })(KASELF);
            </script>
            <div>
                Time: {{ time }}
            </div>
        </template>
    </div>
    <pre class="code"><ka-val stmt="document.getElementById('ex03').innerHTML" unindent auto afterrender="w3codecolor(this)"></ka-val></pre>

    <script>

    </script>
    <script type="application/javascript" src="/dist/w3codecolor.js"></script>
    <script type="application/javascript" src="/dist/kasimir-tpl.js"></script>
</body>
</html>